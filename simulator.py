def propensity_predictor(context, exists):
    """learn propensity score
    """
    pass


def ips_simulator():
    """reweigh training samplings using ips
    simulator for user-choice 
    """
    pass


def generate_rewards():
    """generate and save simulated rewards on testing data
    """
    pass